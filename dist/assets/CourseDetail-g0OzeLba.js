import{b as X,g as K,r as f,c as Q,D as Ae,E as Se,_ as Y,d as c,q as $e,F as Le,G as Pe,j as s,s as A,e as U,h as Z,H as ie,I as Te,P as Me,i as ze,k as ne,J as De,w as ae,C as ce,T as $,B as G,L as de,z as oe,a as Ie}from"./index-H6qxXYzW.js";import{G as F}from"./Grid-KahY6bu_.js";import{C as le,L as Ne}from"./Lock-Bmyjt4k_.js";import{T as pe}from"./EmojiEvents-B-CFp2-_.js";import{u as ke}from"./useControlled-CUqp0KbQ.js";import{L as _,a as q,b as O}from"./ListItemText-CyrDs4a0.js";import{C as ue,a as xe}from"./CardContent-CqdMGwS2.js";import"./isMuiElement-CcLs3jQ-.js";function Be(e){return X("MuiCollapse",e)}K("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const We=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],Ge=e=>{const{orientation:t,classes:o}=e,i={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return Z(i,Be,o)},Ue=A("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.orientation],o.state==="entered"&&t.entered,o.state==="exited"&&!o.in&&o.collapsedSize==="0px"&&t.hidden]}})(({theme:e,ownerState:t})=>c({height:0,overflow:"hidden",transition:e.transitions.create("height")},t.orientation==="horizontal"&&{height:"auto",width:0,transition:e.transitions.create("width")},t.state==="entered"&&c({height:"auto",overflow:"visible"},t.orientation==="horizontal"&&{width:"auto"}),t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&{visibility:"hidden"})),Ve=A("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>c({display:"flex",width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),He=A("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>c({width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),fe=f.forwardRef(function(t,o){const i=Q({props:t,name:"MuiCollapse"}),{addEndListener:p,children:u,className:x,collapsedSize:n="0px",component:a,easing:l,in:d,onEnter:g,onEntered:y,onEntering:b,onExit:L,onExited:E,onExiting:j,orientation:m="vertical",style:P,timeout:C=Se.standard,TransitionComponent:I=Ae}=i,ee=Y(i,We),T=c({},i,{orientation:m,collapsedSize:n}),v=Ge(T),N=$e(),te=Le(),R=f.useRef(null),k=f.useRef(),M=typeof n=="number"?`${n}px`:n,S=m==="horizontal",B=S?"width":"height",V=f.useRef(null),ye=Pe(o,V),z=r=>h=>{if(r){const w=V.current;h===void 0?r(w):r(w,h)}},se=()=>R.current?R.current[S?"clientWidth":"clientHeight"]:0,be=z((r,h)=>{R.current&&S&&(R.current.style.position="absolute"),r.style[B]=M,g&&g(r,h)}),Ce=z((r,h)=>{const w=se();R.current&&S&&(R.current.style.position="");const{duration:W,easing:H}=ie({style:P,timeout:C,easing:l},{mode:"enter"});if(C==="auto"){const re=N.transitions.getAutoHeightDuration(w);r.style.transitionDuration=`${re}ms`,k.current=re}else r.style.transitionDuration=typeof W=="string"?W:`${W}ms`;r.style[B]=`${w}px`,r.style.transitionTimingFunction=H,b&&b(r,h)}),je=z((r,h)=>{r.style[B]="auto",y&&y(r,h)}),ve=z(r=>{r.style[B]=`${se()}px`,L&&L(r)}),Re=z(E),we=z(r=>{const h=se(),{duration:w,easing:W}=ie({style:P,timeout:C,easing:l},{mode:"exit"});if(C==="auto"){const H=N.transitions.getAutoHeightDuration(h);r.style.transitionDuration=`${H}ms`,k.current=H}else r.style.transitionDuration=typeof w=="string"?w:`${w}ms`;r.style[B]=M,r.style.transitionTimingFunction=W,j&&j(r)}),Ee=r=>{C==="auto"&&te.start(k.current||0,r),p&&p(V.current,r)};return s.jsx(I,c({in:d,onEnter:be,onEntered:je,onEntering:Ce,onExit:ve,onExited:Re,onExiting:we,addEndListener:Ee,nodeRef:V,timeout:C==="auto"?null:C},ee,{children:(r,h)=>s.jsx(Ue,c({as:a,className:U(v.root,x,{entered:v.entered,exited:!d&&M==="0px"&&v.hidden}[r]),style:c({[S?"minWidth":"minHeight"]:M},P),ref:ye},h,{ownerState:c({},T,{state:r}),children:s.jsx(Ve,{ownerState:c({},T,{state:r}),className:v.wrapper,ref:R,children:s.jsx(He,{ownerState:c({},T,{state:r}),className:v.wrapperInner,children:u})})}))}))});fe.muiSupportAuto=!0;const ge=f.createContext({});function Fe(e){return X("MuiAccordion",e)}const J=K("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),_e=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","slots","slotProps","TransitionComponent","TransitionProps"],qe=e=>{const{classes:t,square:o,expanded:i,disabled:p,disableGutters:u}=e;return Z({root:["root",!o&&"rounded",i&&"expanded",p&&"disabled",!u&&"gutters"],region:["region"]},Fe,t)},Oe=A(Me,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${J.region}`]:t.region},t.root,!o.square&&t.rounded,!o.disableGutters&&t.gutters]}})(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${J.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${J.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}},({theme:e})=>({variants:[{props:t=>!t.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:t=>!t.disableGutters,style:{[`&.${J.expanded}`]:{margin:"16px 0"}}}]})),Je=f.forwardRef(function(t,o){const i=Q({props:t,name:"MuiAccordion"}),{children:p,className:u,defaultExpanded:x=!1,disabled:n=!1,disableGutters:a=!1,expanded:l,onChange:d,square:g=!1,slots:y={},slotProps:b={},TransitionComponent:L,TransitionProps:E}=i,j=Y(i,_e),[m,P]=ke({controlled:l,default:x,name:"Accordion",state:"expanded"}),C=f.useCallback(S=>{P(!m),d&&d(S,!m)},[m,d,P]),[I,...ee]=f.Children.toArray(p),T=f.useMemo(()=>({expanded:m,disabled:n,disableGutters:a,toggle:C}),[m,n,a,C]),v=c({},i,{square:g,disabled:n,disableGutters:a,expanded:m}),N=qe(v),te=c({transition:L},y),R=c({transition:E},b),[k,M]=Te("transition",{elementType:fe,externalForwardedProps:{slots:te,slotProps:R},ownerState:v});return s.jsxs(Oe,c({className:U(N.root,u),ref:o,ownerState:v,square:g},j,{children:[s.jsx(ge.Provider,{value:T,children:I}),s.jsx(k,c({in:m,timeout:"auto"},M,{children:s.jsx("div",{"aria-labelledby":I.props.id,id:I.props["aria-controls"],role:"region",className:N.region,children:ee})}))]}))});function Xe(e){return X("MuiAccordionDetails",e)}K("MuiAccordionDetails",["root"]);const Ke=["className"],Qe=e=>{const{classes:t}=e;return Z({root:["root"]},Xe,t)},Ye=A("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({padding:e.spacing(1,2,2)})),Ze=f.forwardRef(function(t,o){const i=Q({props:t,name:"MuiAccordionDetails"}),{className:p}=i,u=Y(i,Ke),x=i,n=Qe(x);return s.jsx(Ye,c({className:U(n.root,p),ref:o,ownerState:x},u))});function et(e){return X("MuiAccordionSummary",e)}const D=K("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),tt=["children","className","expandIcon","focusVisibleClassName","onClick"],st=e=>{const{classes:t,expanded:o,disabled:i,disableGutters:p}=e;return Z({root:["root",o&&"expanded",i&&"disabled",!p&&"gutters"],focusVisible:["focusVisible"],content:["content",o&&"expanded",!p&&"contentGutters"],expandIconWrapper:["expandIconWrapper",o&&"expanded"]},et,t)},ot=A(ze,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{display:"flex",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],t),[`&.${D.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${D.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${D.disabled})`]:{cursor:"pointer"},variants:[{props:o=>!o.disableGutters,style:{[`&.${D.expanded}`]:{minHeight:64}}}]}}),nt=A("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})(({theme:e})=>({display:"flex",flexGrow:1,margin:"12px 0",variants:[{props:t=>!t.disableGutters,style:{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${D.expanded}`]:{margin:"20px 0"}}}]})),rt=A("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${D.expanded}`]:{transform:"rotate(180deg)"}})),it=f.forwardRef(function(t,o){const i=Q({props:t,name:"MuiAccordionSummary"}),{children:p,className:u,expandIcon:x,focusVisibleClassName:n,onClick:a}=i,l=Y(i,tt),{disabled:d=!1,disableGutters:g,expanded:y,toggle:b}=f.useContext(ge),L=m=>{b&&b(m),a&&a(m)},E=c({},i,{expanded:y,disabled:d,disableGutters:g}),j=st(E);return s.jsxs(ot,c({focusRipple:!1,disableRipple:!0,disabled:d,component:"div","aria-expanded":y,className:U(j.root,u),focusVisibleClassName:U(j.focusVisible,n),onClick:L,ref:o,ownerState:E},l,{children:[s.jsx(nt,{className:j.content,ownerState:E,children:p}),x&&s.jsx(rt,{className:j.expandIconWrapper,ownerState:E,children:x})]}))}),me=ne(s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),at=ne(s.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),he=ne(s.jsx("path",{d:"m10 16.5 6-4.5-6-4.5zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"PlayCircleOutline"),ft=()=>{var u,x;const{id:e}=De(),t=ae(n=>n.courses.courses.find(a=>a.id===e)),o=ae(n=>n.progress.coursesProgress[e||""]);if(!t)return s.jsx(ce,{children:s.jsx($,{variant:"h4",children:"Курс не найден"})});const i=n=>n.lessons.filter(l=>{var d;return(d=o==null?void 0:o.completedLessons)==null?void 0:d.includes(l.id)}).length/n.lessons.length*100,p=(n,a)=>{var d;if(n===0&&a===0)return!0;const l=a>0?t.modules[n].lessons[a-1]:n>0?t.modules[n-1].lessons[t.modules[n-1].lessons.length-1]:null;return l?(d=o==null?void 0:o.completedLessons)==null?void 0:d.includes(l.id):!1};return s.jsx(ce,{maxWidth:"lg",sx:{py:4},children:s.jsxs(F,{container:!0,spacing:4,children:[s.jsx(F,{item:!0,xs:12,children:s.jsxs(G,{sx:{mb:4},children:[s.jsx($,{variant:"h4",component:"h1",gutterBottom:!0,children:t.title}),s.jsx($,{variant:"subtitle1",color:"text.secondary",gutterBottom:!0,children:t.description}),s.jsxs(G,{sx:{display:"flex",gap:1,mt:2},children:[s.jsx(le,{label:`${t.difficulty.charAt(0).toUpperCase()}${t.difficulty.slice(1)}`,color:t.difficulty==="beginner"?"success":t.difficulty==="intermediate"?"warning":"error"}),s.jsx(le,{icon:s.jsx(pe,{}),label:`${t.rewards.experience} XP`,color:"primary"})]})]})}),s.jsx(F,{item:!0,xs:12,md:8,children:t.modules.map((n,a)=>s.jsxs(Je,{defaultExpanded:a===0,children:[s.jsx(it,{expandIcon:s.jsx(at,{}),children:s.jsxs(G,{sx:{width:"100%"},children:[s.jsx($,{variant:"h6",children:n.title}),s.jsx(G,{sx:{mt:1},children:s.jsx(de,{variant:"determinate",value:i(n),sx:{height:6,borderRadius:3}})})]})}),s.jsx(Ze,{children:s.jsx(oe,{children:n.lessons.map((l,d)=>{var b;const g=p(a,d),y=(b=o==null?void 0:o.completedLessons)==null?void 0:b.includes(l.id);return s.jsxs(_,{sx:{opacity:g?1:.5,transition:"opacity 0.2s"},children:[s.jsx(q,{children:y?s.jsx(me,{color:"success"}):g?s.jsx(he,{color:"primary"}):s.jsx(Ne,{})}),s.jsx(O,{primary:l.title,secondary:`Длительность: ${l.duration}`}),s.jsx(Ie,{variant:"contained",size:"small",disabled:!g,children:y?"Повторить":"Начать"})]},l.id)})})})]},n.id))}),s.jsxs(F,{item:!0,xs:12,md:4,children:[s.jsx(ue,{children:s.jsxs(xe,{children:[s.jsx($,{variant:"h6",gutterBottom:!0,children:"Прогресс курса"}),s.jsxs(G,{sx:{mb:2},children:[s.jsx($,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Общий прогресс"}),s.jsx(de,{variant:"determinate",value:(((u=o==null?void 0:o.completedLessons)==null?void 0:u.length)||0)/t.modules.reduce((n,a)=>n+a.lessons.length,0)*100,sx:{height:8,borderRadius:4}})]}),s.jsxs(oe,{children:[s.jsxs(_,{children:[s.jsx(q,{children:s.jsx(he,{})}),s.jsx(O,{primary:`${t.modules.reduce((n,a)=>n+a.lessons.length,0)} уроков`})]}),s.jsxs(_,{children:[s.jsx(q,{children:s.jsx(me,{})}),s.jsx(O,{primary:`${((x=o==null?void 0:o.completedLessons)==null?void 0:x.length)||0} завершено`})]})]})]})}),s.jsx(ue,{sx:{mt:2},children:s.jsxs(xe,{children:[s.jsx($,{variant:"h6",gutterBottom:!0,children:"Достижения"}),s.jsx(oe,{children:t.rewards.achievements.map(n=>s.jsxs(_,{children:[s.jsx(q,{children:s.jsx(pe,{color:"primary"})}),s.jsx(O,{primary:n})]},n))})]})})]})]})})};export{ft as default};
//# sourceMappingURL=CourseDetail-g0OzeLba.js.map
